<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Apunts Fotogràfics</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <!-- Navigation -->
    <nav id="navbar" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        @Html.Partial("_NavigationMenu")
    </nav>

    <div id="container" class="container">
        @RenderBody()
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>

<script>

    $(document).off('click', '.nav-menu').on('click', '.nav-menu', function () {
        var view = $(this).attr("name");
        var request = $.ajax({
            url: "/Home/" + view,
            contentType: "application/json; charset=UTF-8",
            type: "POST",
            data: {},
            dataType: "html"
        });
        request.done(function (data) {
            console.log(data)
            $('#container').empty().append(data);
            console.log('Going to ' + view + ' done.')
        });
        request.fail(function (err) {
            console.log('Going to ' + view + ' failed.')
        });
    });

    $(document).off('click', '.camera-list').on('click', '.camera-list', function () {
        var camera = $(this).attr("name");
        var request = $.ajax({
            url: "/Cameres/Index/",
            contentType: "application/json; charset=UTF-8",
            traditional: true, 
            type: "GET",
            data: {
                Camera: camera
            },
            dataType: "html"
        });
        request.done(function (data) {
            console.log(data)
            $('#container').empty().append(data);
            console.log('Going to Cameres/Index done.')
        });
        request.fail(function (err) {
            console.log('Going to Cameres/Index failed.')
        });
    });



</script>
